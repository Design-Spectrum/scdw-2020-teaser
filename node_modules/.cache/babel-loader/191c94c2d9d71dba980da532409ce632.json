{"ast":null,"code":"import _toConsumableArray from \"/Users/jinjaelee/Projects/scdw-2020-teaser/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _createForOfIteratorHelper from \"/Users/jinjaelee/Projects/scdw-2020-teaser/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport e from \"fast-deep-equal\";\nimport { useMemo as r } from \"react\";\n\nfunction n(r, n, o) {\n  var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var i = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : !1;\n\n  var _iterator = _createForOfIteratorHelper(n),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _r = _step.value;\n\n      if (e(o, _r.args)) {\n        if (_r.error) throw _r.error;\n        if (_r.response) return _r.response;\n        throw _r.promise;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var t = {\n    args: o,\n    promise: r.apply(void 0, _toConsumableArray(o)).then(function (e) {\n      return t.response = e;\n    }).catch(function (e) {\n      return t.error = e;\n    }).then(function () {\n      s > 0 && setTimeout(function () {\n        var e = n.indexOf(t);\n        -1 !== e && n.splice(e, 1);\n      }, s);\n    })\n  };\n  if (n.push(t), !i) throw t.promise;\n}\n\nfunction o(r) {\n  for (var _len = arguments.length, n = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    n[_key - 1] = arguments[_key];\n  }\n\n  if (void 0 === n) r.splice(0, r.length);else {\n    var _o = r.find(function (r) {\n      return e(n, r.args);\n    });\n\n    if (_o) {\n      var _e = r.indexOf(_o);\n\n      -1 !== _e && r.splice(_e, 1);\n    }\n  }\n}\n\nfunction s(r) {\n  var s = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var i = [];\n  return {\n    read: function read() {\n      for (var _len2 = arguments.length, e = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        e[_key2] = arguments[_key2];\n      }\n\n      return n(r, i, e, s);\n    },\n    preload: function preload() {\n      for (var _len3 = arguments.length, e = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        e[_key3] = arguments[_key3];\n      }\n\n      n(r, i, e, s, !0);\n    },\n    clear: function clear() {\n      for (var _len4 = arguments.length, e = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        e[_key4] = arguments[_key4];\n      }\n\n      return o.apply(void 0, [i].concat(e));\n    },\n    peek: function peek() {\n      for (var _len5 = arguments.length, r = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        r[_key5] = arguments[_key5];\n      }\n\n      var n;\n      return null == (n = i.find(function (n) {\n        return e(r, n.args);\n      })) ? void 0 : n.response;\n    }\n  };\n}\n\nvar i = [];\n\nfunction t(e, o) {\n  return r(function () {\n    return n(e, i, o, t.lifespan);\n  }, o);\n}\n\nt.lifespan = 0, t.clear = function () {\n  for (var _len6 = arguments.length, e = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    e[_key6] = arguments[_key6];\n  }\n\n  return o.apply(void 0, [i].concat(e));\n}, t.preload = function (e) {\n  for (var _len7 = arguments.length, r = new Array(_len7 > 1 ? _len7 - 1 : 0), _key7 = 1; _key7 < _len7; _key7++) {\n    r[_key7 - 1] = arguments[_key7];\n  }\n\n  n(e, i, r, t.lifespan, !0);\n}, t.peek = function () {\n  for (var _len8 = arguments.length, r = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n    r[_key8] = arguments[_key8];\n  }\n\n  var n;\n  return null == (n = i.find(function (n) {\n    return e(r, n.args);\n  })) ? void 0 : n.response;\n};\nexport { s as createAsset, t as useAsset };","map":{"version":3,"sources":["/Users/jinjaelee/Projects/scdw-2020-teaser/node_modules/use-asset/dist/index.js"],"names":["e","useMemo","r","n","o","s","i","args","error","response","promise","t","then","catch","setTimeout","indexOf","splice","push","length","find","read","preload","clear","peek","lifespan","createAsset","useAsset"],"mappings":"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","sourcesContent":["import e from\"fast-deep-equal\";import{useMemo as r}from\"react\";function n(r,n,o,s=0,i=!1){for(const r of n)if(e(o,r.args)){if(r.error)throw r.error;if(r.response)return r.response;throw r.promise}const t={args:o,promise:r(...o).then(e=>t.response=e).catch(e=>t.error=e).then(()=>{s>0&&setTimeout(()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)},s)})};if(n.push(t),!i)throw t.promise}function o(r,...n){if(void 0===n)r.splice(0,r.length);else{const o=r.find(r=>e(n,r.args));if(o){const e=r.indexOf(o);-1!==e&&r.splice(e,1)}}}function s(r,s=0){const i=[];return{read:(...e)=>n(r,i,e,s),preload:(...e)=>{n(r,i,e,s,!0)},clear:(...e)=>o(i,...e),peek:(...r)=>{var n;return null==(n=i.find(n=>e(r,n.args)))?void 0:n.response}}}let i=[];function t(e,o){return r(()=>n(e,i,o,t.lifespan),o)}t.lifespan=0,t.clear=(...e)=>o(i,...e),t.preload=(e,...r)=>{n(e,i,r,t.lifespan,!0)},t.peek=(...r)=>{var n;return null==(n=i.find(n=>e(r,n.args)))?void 0:n.response};export{s as createAsset,t as useAsset};\n"]},"metadata":{},"sourceType":"module"}