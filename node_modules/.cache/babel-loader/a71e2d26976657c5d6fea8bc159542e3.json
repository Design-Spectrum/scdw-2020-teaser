{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = AddToCalendar;\nObject.defineProperty(exports, \"SHARE_SITES\", {\n  enumerable: true,\n  get: function get() {\n    return _enums.SHARE_SITES;\n  }\n});\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _enums = require(\"./enums\");\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction AddToCalendar(WrappedButton, WrappedDropdown) {\n  var _class, _temp2;\n\n  return _temp2 = _class = /*#__PURE__*/function (_Component) {\n    _inherits(AddToCalendarWrapped, _Component);\n\n    function AddToCalendarWrapped() {\n      var _getPrototypeOf2;\n\n      var _temp, _this;\n\n      _classCallCheck(this, AddToCalendarWrapped);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _possibleConstructorReturn(_this, (_temp = _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AddToCalendarWrapped)).call.apply(_getPrototypeOf2, [this].concat(args))), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n        dropdownOpen: false\n      }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleCalendarButtonClick\", function (e) {\n        var filename = _this.props.filename;\n        e.preventDefault();\n        var url = e.currentTarget.getAttribute('href');\n\n        if (url.startsWith('BEGIN')) {\n          var blob = new Blob([url], {\n            type: 'text/calendar;charset=utf-8'\n          });\n\n          if ((0, _utils.isInternetExplorer)()) {\n            window.navigator.msSaveOrOpenBlob(blob, \"\".concat(filename, \".ics\"));\n          } else {\n            var link = document.createElement('a');\n            link.href = window.URL.createObjectURL(blob);\n            link.setAttribute('download', \"\".concat(filename, \".ics\"));\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n          }\n        } else {\n          window.open(url, '_blank');\n        }\n      }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleDropdownToggle\", function (e) {\n        e.preventDefault();\n\n        _this.setState(function (prevState) {\n          return {\n            dropdownOpen: !prevState.dropdownOpen\n          };\n        });\n      }), _temp));\n    }\n\n    _createClass(AddToCalendarWrapped, [{\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        var _this$props = this.props,\n            buttonProps = _this$props.buttonProps,\n            buttonText = _this$props.buttonText,\n            className = _this$props.className,\n            dropdownProps = _this$props.dropdownProps,\n            event = _this$props.event,\n            items = _this$props.items,\n            linkProps = _this$props.linkProps;\n        return _react.default.createElement(\"div\", {\n          className: className\n        }, _react.default.createElement(WrappedButton, _extends({}, buttonProps, {\n          onClick: this.handleDropdownToggle\n        }), buttonText), this.state.dropdownOpen && _react.default.createElement(WrappedDropdown, _extends({}, dropdownProps, {\n          isOpen: this.state.dropdownOpen,\n          onRequestClose: this.handleDropdownToggle\n        }), items.map(function (item) {\n          return _react.default.createElement(\"a\", _extends({}, linkProps, {\n            key: item,\n            onClick: _this2.handleCalendarButtonClick,\n            href: (0, _utils.buildShareUrl)(event, item)\n          }), item);\n        })));\n      }\n    }]);\n\n    return AddToCalendarWrapped;\n  }(_react.Component), _defineProperty(_class, \"propTypes\", {\n    buttonProps: _propTypes.default.shape(),\n    buttonText: _propTypes.default.node,\n    className: _propTypes.default.string,\n    dropdownProps: _propTypes.default.shape(),\n    event: _propTypes.default.shape({\n      description: _propTypes.default.string,\n      duration: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]).isRequired,\n      endDatetime: _propTypes.default.string.isRequired,\n      location: _propTypes.default.string,\n      startDatetime: _propTypes.default.string.isRequired,\n      title: _propTypes.default.string\n    }).isRequired,\n    filename: _propTypes.default.string,\n    items: _propTypes.default.arrayOf(_propTypes.default.oneOf(Object.keys(_enums.SHARE_SITES).map(function (itm) {\n      return _enums.SHARE_SITES[itm];\n    }))),\n    linkProps: _propTypes.default.shape()\n  }), _defineProperty(_class, \"defaultProps\", {\n    buttonProps: {},\n    buttonText: 'Add to Calendar',\n    className: null,\n    dropdownProps: {},\n    filename: 'download',\n    items: Object.keys(_enums.SHARE_SITES).map(function (itm) {\n      return _enums.SHARE_SITES[itm];\n    }),\n    linkProps: {}\n  }), _temp2;\n}","map":{"version":3,"sources":["/Users/jinjaelee/Projects/scdw-2020-teaser/node_modules/react-add-to-calendar-hoc/lib/index.js"],"names":["Object","defineProperty","exports","value","default","AddToCalendar","enumerable","get","_enums","SHARE_SITES","_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_utils","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","desc","getOwnPropertyDescriptor","set","_typeof","Symbol","iterator","constructor","_extends","assign","target","i","arguments","length","source","apply","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_setPrototypeOf","p","ReferenceError","_defineProperty","WrappedButton","WrappedDropdown","_class","_temp2","_Component","AddToCalendarWrapped","_getPrototypeOf2","_temp","_this","_len","args","Array","_key","concat","dropdownOpen","e","filename","preventDefault","url","currentTarget","getAttribute","startsWith","blob","Blob","type","isInternetExplorer","window","navigator","msSaveOrOpenBlob","link","document","createElement","href","URL","createObjectURL","setAttribute","body","appendChild","click","removeChild","open","setState","prevState","render","_this2","_this$props","buttonProps","buttonText","className","dropdownProps","event","items","linkProps","onClick","handleDropdownToggle","state","isOpen","onRequestClose","map","item","handleCalendarButtonClick","buildShareUrl","Component","shape","node","string","description","duration","oneOfType","number","isRequired","endDatetime","location","startDatetime","title","arrayOf","oneOf","keys","itm"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = AddToCalendar;\nObject.defineProperty(exports, \"SHARE_SITES\", {\n  enumerable: true,\n  get: function get() {\n    return _enums.SHARE_SITES;\n  }\n});\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _enums = require(\"./enums\");\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction AddToCalendar(WrappedButton, WrappedDropdown) {\n  var _class, _temp2;\n\n  return _temp2 = _class =\n  /*#__PURE__*/\n  function (_Component) {\n    _inherits(AddToCalendarWrapped, _Component);\n\n    function AddToCalendarWrapped() {\n      var _getPrototypeOf2;\n\n      var _temp, _this;\n\n      _classCallCheck(this, AddToCalendarWrapped);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _possibleConstructorReturn(_this, (_temp = _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AddToCalendarWrapped)).call.apply(_getPrototypeOf2, [this].concat(args))), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n        dropdownOpen: false\n      }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleCalendarButtonClick\", function (e) {\n        var filename = _this.props.filename;\n        e.preventDefault();\n        var url = e.currentTarget.getAttribute('href');\n\n        if (url.startsWith('BEGIN')) {\n          var blob = new Blob([url], {\n            type: 'text/calendar;charset=utf-8'\n          });\n\n          if ((0, _utils.isInternetExplorer)()) {\n            window.navigator.msSaveOrOpenBlob(blob, \"\".concat(filename, \".ics\"));\n          } else {\n            var link = document.createElement('a');\n            link.href = window.URL.createObjectURL(blob);\n            link.setAttribute('download', \"\".concat(filename, \".ics\"));\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n          }\n        } else {\n          window.open(url, '_blank');\n        }\n      }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleDropdownToggle\", function (e) {\n        e.preventDefault();\n\n        _this.setState(function (prevState) {\n          return {\n            dropdownOpen: !prevState.dropdownOpen\n          };\n        });\n      }), _temp));\n    }\n\n    _createClass(AddToCalendarWrapped, [{\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        var _this$props = this.props,\n            buttonProps = _this$props.buttonProps,\n            buttonText = _this$props.buttonText,\n            className = _this$props.className,\n            dropdownProps = _this$props.dropdownProps,\n            event = _this$props.event,\n            items = _this$props.items,\n            linkProps = _this$props.linkProps;\n        return _react.default.createElement(\"div\", {\n          className: className\n        }, _react.default.createElement(WrappedButton, _extends({}, buttonProps, {\n          onClick: this.handleDropdownToggle\n        }), buttonText), this.state.dropdownOpen && _react.default.createElement(WrappedDropdown, _extends({}, dropdownProps, {\n          isOpen: this.state.dropdownOpen,\n          onRequestClose: this.handleDropdownToggle\n        }), items.map(function (item) {\n          return _react.default.createElement(\"a\", _extends({}, linkProps, {\n            key: item,\n            onClick: _this2.handleCalendarButtonClick,\n            href: (0, _utils.buildShareUrl)(event, item)\n          }), item);\n        })));\n      }\n    }]);\n\n    return AddToCalendarWrapped;\n  }(_react.Component), _defineProperty(_class, \"propTypes\", {\n    buttonProps: _propTypes.default.shape(),\n    buttonText: _propTypes.default.node,\n    className: _propTypes.default.string,\n    dropdownProps: _propTypes.default.shape(),\n    event: _propTypes.default.shape({\n      description: _propTypes.default.string,\n      duration: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]).isRequired,\n      endDatetime: _propTypes.default.string.isRequired,\n      location: _propTypes.default.string,\n      startDatetime: _propTypes.default.string.isRequired,\n      title: _propTypes.default.string\n    }).isRequired,\n    filename: _propTypes.default.string,\n    items: _propTypes.default.arrayOf(_propTypes.default.oneOf(Object.keys(_enums.SHARE_SITES).map(function (itm) {\n      return _enums.SHARE_SITES[itm];\n    }))),\n    linkProps: _propTypes.default.shape()\n  }), _defineProperty(_class, \"defaultProps\", {\n    buttonProps: {},\n    buttonText: 'Add to Calendar',\n    className: null,\n    dropdownProps: {},\n    filename: 'download',\n    items: Object.keys(_enums.SHARE_SITES).map(function (itm) {\n      return _enums.SHARE_SITES[itm];\n    }),\n    linkProps: {}\n  }), _temp2;\n}"]},"metadata":{},"sourceType":"script"}